{% extends "metadata/dataset.html" %}


{% block dset %}
<script>
function addField(divName)
{
var divinput = divName + "_inputunit0";
var newdiv = document.getElementById(divinput).cloneNode(true);
newdiv.id = divName + "_inputunit"; // fix so that they get a number? check request post output
document.getElementById(divName).appendChild(newdiv);
}
</script>

<input type="submit" value="next" name="target_write_metadata">
<table class="metadata">
<tr>
<td></td>
<td> 
{{ mds.fileset.allfiles|length }} files
<div class="filebox">
{% for fn in mds.fileset.allfiles %}
{{ fn }}<br>
{% endfor %}
</div>
</td>
</tr>

{% for name, param in mds.paramset.params.items %}
    {% if param.render_html %}
<tr>
<td> {{ param.title }} </td>
<td> {{ param.render_html|safe }} </td> 
<td>
    {% if param.errors %}
        <div class="errormsg" id="metafield">
        {% for error in param.errors %}
        {{ error }}
        {% endfor %}
        </div>
    {% endif %}
    </td>
</tr>
    {% endif %}
    {% endfor %}
</table>
{% endblock %}
