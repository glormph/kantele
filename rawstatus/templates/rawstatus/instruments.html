{% extends "base.html" %}
{% block content %}

<div class="container">
  <h4 class="title is-4">Instrument file transfer installation</h4>
  <form action="download/" method="POST">
    <div class="field">
      <label class="label">Datadisk letter</label>
      <input type="text" name="datadisk" class="input" placeholder="Drive letter for data, e.g. D">
    </div>
  
    <div class="field">
      <label class="label">Producer</label>
      <div class="select">
        <select name="prod_id">
          {% for pid, prod in producers.items %}
          <option value="{{pid}}">{{ prod }}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="field">
      <label class="checkbox">
        <input name="configonly" value="true" type="checkbox">
        Only download configuration (not for new instruments, uploader updates)
      </label>
    </div>
    <input class="button" type="submit" value="Download package">
  </form>

  <div class="box">
    <div class="section">
      <h4 class="title is-4">Instructions</h4>
      <h5 class="subtitle is-5">New installation</h5>
      <ul>
        <li>&bull; Install <a href="https://www.python.org/downloads/">python3</a> on the machine. When installing, make sure to check "add to PATH"</li>
        <li>&bull; Fill in the above form and download the zip file</li>
        <li>&bull; Move and unzip the file to an appropriate location, preferably on the Desktop for easy updating</li>
        <li>&bull; Run (with administrator rights) <code>setup.bat</code></li>
        <li>&bull; Run<code>transfer.bat</code></li>
      </ul>
    </div>
    <div class="section">
      <h5 class="subtitle is-5">Config updates</h5>
      <ul>
        <li>&bull; Fill in the above form, tick the config-only box and download the <code>transfer.bat</code> file</li>
        <li>&bull; Replace original bat file with the new file</li>
        <li>&bull; Stop running transfer program</li>
        <li>&bull; Run<code>transfer.bat</code></li>
      </ul>
    </div>
  </div>
</div>
{% endblock content %}
