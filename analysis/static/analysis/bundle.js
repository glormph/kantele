var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(t)}function s(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}const a=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function o(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function r(e){e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function p(){return u(" ")}function m(){return u("")}function h(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function g(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function _(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e){const t=[];for(let n=0;n<e.length;n+=1)e[n].checked&&t.push(e[n].__value);return t}function y(e,t){t=""+t,e.data!==t&&(e.data=t)}function v(e,t){(null!=t||e.value)&&(e.value=t)}function w(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function O(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let j;function x(e){j=e}function k(){if(!j)throw new Error("Function called outside component initialization");return j}function $(){const e=k();return(t,n)=>{const l=e.$$.callbacks[t];if(l){const s=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);l.slice().forEach(t=>{t.call(e,s)})}}}const q=[],C=[],E=[],L=[],N=Promise.resolve();let S=!1;function A(e){E.push(e)}function z(e){L.push(e)}function D(){const e=new Set;do{for(;q.length;){const e=q.shift();x(e),M(e.$$)}for(;C.length;)C.pop()();for(let t=0;t<E.length;t+=1){const n=E[t];e.has(n)||(n(),e.add(n))}E.length=0}while(q.length);for(;L.length;)L.pop()();S=!1}function M(e){null!==e.fragment&&(e.update(e.dirty),l(e.before_update),e.fragment&&e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(A))}const T=new Set;let R;function F(){R={r:0,c:[],p:R}}function P(){R.r||l(R.c),R=R.p}function U(e,t){e&&e.i&&(T.delete(e),e.i(t))}function I(e,t,n,l){if(e&&e.o){if(T.has(e))return;T.add(e),R.c.push(()=>{T.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}}const H="undefined"!=typeof window?window:global;function B(e,t,n){a(e.$$.props,t)&&(t=e.$$.props[t]||t,e.$$.bound[t]=n,n(e.$$.ctx[t]))}function W(e){e&&e.c()}function K(e,n,i){const{fragment:a,on_mount:o,on_destroy:c,after_update:r}=e.$$;a&&a.m(n,i),A(()=>{const n=o.map(t).filter(s);c?c.push(...n):l(n),e.$$.on_mount=[]}),r.forEach(A)}function Y(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx={})}function G(e,t){e.$$.dirty||(q.push(e),S||(S=!0,N.then(D)),e.$$.dirty=n()),e.$$.dirty[t]=!0}function V(t,s,i,a,o,c){const r=j;x(t);const f=s.props||{},d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:o,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(r?r.$$.context:[]),callbacks:n(),dirty:null};let u=!1;var p;d.ctx=i?i(t,f,(e,n,l=n)=>(d.ctx&&o(d.ctx[e],d.ctx[e]=l)&&(d.bound[e]&&d.bound[e](l),u&&G(t,e)),n)):f,d.update(),u=!0,l(d.before_update),d.fragment=!!a&&a(d.ctx),s.target&&(s.hydrate?d.fragment&&d.fragment.l((p=s.target,Array.from(p.childNodes))):d.fragment&&d.fragment.c(),s.intro&&U(t.$$.fragment),K(t,s.target,s.anchor),D()),x(r)}class J{$destroy(){Y(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const Q=5e3;async function X(e){let t;try{t=await e.json()}catch(t){return{ok:!1,error:"Server error encountered",status:e.status}}return t.ok=e.ok,t}async function Z(e){let t;try{t=await fetch(e)}catch{return{ok:!1,error:"Kantele encountered a network error",status:!1}}return await X(t)}async function ee(e,t){let n;try{n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch{return{ok:!1,error:"Kantele encountered a network error",status:!1}}return await X(n)}const{Object:te}=H;function ne(e,t,n){const l=te.create(e);return l.optid=t[n],l}function le(e){let t,n,l,s,i=!e.optorder.length&&se(),a=e.optorder,u=[];for(let t=0;t<a.length;t+=1)u[t]=ie(ne(e,a,t));return{c(){t=d("div"),n=d("select"),i&&i.c(),l=m();for(let e=0;e<u.length;e+=1)u[e].c();n.multiple=!0,_(t,"class","select is-multiple"),s=h(n,"mousedown",e.mousedown_handler)},m(e,s){c(e,t,s),o(t,n),i&&i.m(n,null),o(n,l);for(let e=0;e<u.length;e+=1)u[e].m(n,null)},p(e,t){if(t.optorder.length?i&&(i.d(1),i=null):i||((i=se()).c(),i.m(n,l)),e.optorder||e.hoveropt||e.selectvalue||e.niceName||e.options){let l;for(a=t.optorder,l=0;l<a.length;l+=1){const s=ne(t,a,l);u[l]?u[l].p(e,s):(u[l]=ie(s),u[l].c(),u[l].m(n,null))}for(;l<u.length;l+=1)u[l].d(1);u.length=a.length}},d(e){e&&r(t),i&&i.d(),f(u,e),s()}}}function se(e){let t;return{c(){(t=d("option")).textContent="Type more or type less...",t.disabled=!0,t.__value="Type more or type less...",t.value=t.__value},m(e,n){c(e,t,n)},d(e){e&&r(t)}}}function ie(e){let t,n,s,i,a,f=e.niceName(e.options[e.optid])+"";function p(...t){return e.mouseup_handler(e,...t)}function m(...t){return e.mousemove_handler(e,...t)}return{c(){t=d("option"),n=u(f),t.selected=s=e.optid===e.hoveropt,t.__value=i=e.optid,t.value=t.__value,a=[h(t,"mouseup",p),h(t,"mousemove",m)]},m(e,l){c(e,t,l),o(t,n)},p(l,a){e=a,(l.niceName||l.options||l.optorder)&&f!==(f=e.niceName(e.options[e.optid])+"")&&y(n,f),(l.optorder||l.hoveropt)&&s!==(s=e.optid===e.hoveropt)&&(t.selected=s),l.optorder&&i!==(i=e.optid)&&(t.__value=i),t.value=t.__value},d(e){e&&r(t),l(a)}}}function ae(t){let n,s,i,a,f,u,m=t.typing&&le(t);return{c(){var e;n=d("div"),s=d("input"),i=p(),(a=d("span")).innerHTML='<i class="fas fa-chevron-down"></i>',f=p(),m&&m.c(),_(s,"type","text"),_(s,"class","input is-narrow"),_(s,"placeholder",t.placeholder),_(a,"class","icon is-right"),_(n,"class","control has-icons-right"),_(n,"tabindex","0"),u=[h(s,"input",t.input_input_handler),h(s,"blur",t.inputdone),h(s,"keyup",g((e=t.handleKeyInput,function(t){return t.preventDefault(),e.call(this,t)}))),h(s,"focus",t.starttyping)]},m(e,l){c(e,n,l),o(n,s),v(s,t.intext),o(n,i),o(n,a),o(n,f),m&&m.m(n,null)},p(e,t){e.intext&&s.value!==t.intext&&v(s,t.intext),e.placeholder&&_(s,"placeholder",t.placeholder),t.typing?m?m.p(e,t):((m=le(t)).c(),m.m(n,null)):m&&(m.d(1),m=null)},i:e,o:e,d(e){e&&r(n),m&&m.d(),l(u)}}}function oe(e,t,n){const l=$();let s,i,{selectval:a=""}=t,{fixedoptions:o={}}=t,{fixedorder:c=[]}=t,{intext:r}=t,{fetchUrl:f=!1}=t,{fetchedData:d}=t,{niceName:u=function(e){return e}}=t,{unknowninput:p="__ILLEGAL_PLACEHOLDER__"}=t,m=[],h=!1,g="Filter by typing",_=!1,b=!1;const y=a;function v(){console.log("inputdone"),b||(n("typing",_=!1),a&&a in s?n("intext",r=u(s[a])):"__ILLEGAL_PLACEHOLDER__"===p?(console.log("illegal value dectected"),l("illegalvalue",{})):(n("unknowninput",p=r),l("newvalue",{})))}function w(e){n("mouseSelect",b=!1),n("selectval",a=s[e].id),n("intext",r=u(s[a])),"__ILLEGAL_PLACEHOLDER__"!==p&&n("unknowninput",p=""),l("selectedvalue",{}),v()}return e.$set=(e=>{"selectval"in e&&n("selectval",a=e.selectval),"fixedoptions"in e&&n("fixedoptions",o=e.fixedoptions),"fixedorder"in e&&n("fixedorder",c=e.fixedorder),"intext"in e&&n("intext",r=e.intext),"fetchUrl"in e&&n("fetchUrl",f=e.fetchUrl),"fetchedData"in e&&n("fetchedData",d=e.fetchedData),"niceName"in e&&n("niceName",u=e.niceName),"unknowninput"in e&&n("unknowninput",p=e.unknowninput)}),e.$$.update=((e={fixedoptions:1,optorder:1})=>{e.fixedoptions&&n("options",s=Object.fromEntries(Object.entries(o))),e.optorder&&(i=Object.fromEntries(m.map((e,t)=>[e,t])))}),{selectval:a,fixedoptions:o,fixedorder:c,intext:r,fetchUrl:f,fetchedData:d,niceName:u,unknowninput:p,options:s,optorder:m,hoveropt:h,placeholder:g,typing:_,mouseSelect:b,inputdone:v,selectvalue:w,handleKeyInput:async function(e){if(27===e.keyCode)n("mouseSelect",b=!1),v();else if(!h||13!==e.keyCode&&9!==e.keyCode)if(h||13!==e.keyCode&&9!==e.keyCode)if(m.length&&40===e.keyCode)h&&i[h]+1<=m.length?n("hoveropt",h=m[i[h]+1]):h||n("hoveropt",h=m[0]);else if(m.length&&38===e.keyCode)n("hoveropt",h=!!(h&&i[h]>0)&&m[i[h]-1]);else if(r.length){if(e.key.length>1&&8!==e.keyCode&&46!==e.keyCode)return;if(r.length>2&&f)n("selectval",a=""),n("options",s=await Z(`${f}?q=${r}`)),n("fetchedData",d=Object.assign({},s)),delete s.ok,n("optorder",m=Object.keys(s)),n("typing",_=!0);else if(!f&&o&&r){n("selectval",a=""),n("options",s=Object.fromEntries(Object.entries(o).filter(e=>e[1].name.toLowerCase().indexOf(r.toLowerCase())>-1)));const e=Object.keys(s);n("optorder",m=c.length?c.filter(t=>e.indexOf(t.toString())>-1):e),n("typing",_=!0)}else!f&&o&&(n("options",s=Object.fromEntries(Object.entries(o))),n("optorder",m=c.length?c:Object.keys(s)),n("typing",_=!0))}else n("hoveropt",h=!1),n("options",s=Object.fromEntries(Object.entries(o))),n("optorder",m=Object.keys(s)),n("selectval",a=y);else v();else n("mouseSelect",b=!1),w(h);m.length||n("hoveropt",h=!1)},starttyping:function(){const e=Object.keys(s);n("optorder",m=c.length?c:e),n("options",s=c.length?o:s),n("typing",_=!0),n("placeholder",g=a?u(a):"")},input_input_handler:function(){r=this.value,n("intext",r)},mouseup_handler:({optid:e},t)=>w(e),mousemove_handler:({optid:e},t)=>n("hoveropt",h=e),mousedown_handler:e=>n("mouseSelect",b=!0)}}class ce extends J{constructor(e){super(),V(this,e,oe,ae,i,{selectval:0,fixedoptions:0,fixedorder:0,intext:0,fetchUrl:0,fetchedData:0,niceName:0,unknowninput:0})}}const{Object:re}=H;function fe(e,t,n){const l=re.create(e);return l.ffilep=t[n],l}function de(e,t,n){const l=re.create(e);return l.filep=t[n],l}function ue(e,t,n){const l=re.create(e);return l.mfpkey=t[n],l}function pe(e,t,n){const l=re.create(e);return l.filep=t[n],l}function me(e,t,n){const l=re.create(e);return l.anaid=t[n],l}function he(e,t,n){const l=re.create(e);return l.nf=t[n].nf,l.id=t[n].id,l.name=t[n].name,l}function ge(e,t,n){const l=re.create(e);return l.nf=t[n].nf,l.id=t[n].id,l.name=t[n].name,l.type=t[n].type,l}function _e(e,t,n){const l=re.create(e);return l.opt=t[n],l}function be(e,t,n){const l=re.create(e);return l.nf=t[n].nf,l.id=t[n].id,l.name=t[n].name,l.opts=t[n].opts,l}function ye(e,t,n){const l=re.create(e);return l.ch=t[n].ch,l.sample=t[n].sample,l}function ve(e,t,n){const l=re.create(e);return l.isoq=t[n],l.each_value_9=t,l.isoq_index=n,l}function we(e,t,n){const l=re.create(e);return l.fn=t[n],l.each_value_12=t,l.fn_index=n,l}function Oe(e,t,n){const l=re.create(e);return l.sf=t[n],l}function je(e,t,n){const l=re.create(e);return l.ds=t[n],l.each_value_11=t,l.ds_index=n,l}function xe(e,t,n){const l=re.create(e);return l.comp=t[n],l}function ke(e,t,n){const l=re.create(e);return l.wfv=t[n],l}function $e(e,t,n){const l=re.create(e);return l.wfid=t[n],l}function qe(e,t,n){const l=re.create(e);return l.message=t[n],l}function Ce(e,t,n){const l=re.create(e);return l.link=t[n],l}function Ee(e,t,n){const l=re.create(e);return l.error=t[n],l}function Le(e){let t,n=Object.entries(e.notif.errors).filter(Kt).map(Yt),l=[];for(let t=0;t<n.length;t+=1)l[t]=Ne(Ee(e,n,t));return{c(){t=d("div");for(let e=0;e<l.length;e+=1)l[e].c();_(t,"class","notification is-danger is-light")},m(e,n){c(e,t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null)},p(e,s){if(e.Object||e.notif){let i;for(n=Object.entries(s.notif.errors).filter(Kt).map(Yt),i=0;i<n.length;i+=1){const a=Ee(s,n,i);l[i]?l[i].p(e,a):(l[i]=Ne(a),l[i].c(),l[i].m(t,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(e){e&&r(t),f(l,e)}}}function Ne(e){let t,n,l=e.error+"";return{c(){t=d("div"),n=u(l)},m(e,l){c(e,t,l),o(t,n)},p(e,t){(e.Object||e.notif)&&l!==(l=t.error+"")&&y(n,l)},d(e){e&&r(t)}}}function Se(e){let t,n=Object.entries(e.notif.links).filter(Gt).map(Vt),l=[];for(let t=0;t<n.length;t+=1)l[t]=Ae(Ce(e,n,t));return{c(){t=d("div");for(let e=0;e<l.length;e+=1)l[e].c();_(t,"class","notification is-danger is-light errormsg svelte-5nys59")},m(e,n){c(e,t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null)},p(e,s){if(e.Object||e.notif){let i;for(n=Object.entries(s.notif.links).filter(Gt).map(Vt),i=0;i<n.length;i+=1){const a=Ce(s,n,i);l[i]?l[i].p(e,a):(l[i]=Ae(a),l[i].c(),l[i].m(t,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(e){e&&r(t),f(l,e)}}}function Ae(e){let t,n,l,s,i;return{c(){t=d("div"),n=u("Click here: "),l=d("a"),s=u("here"),_(l,"target","_blank"),_(l,"href",i=e.link)},m(e,i){c(e,t,i),o(t,n),o(t,l),o(l,s)},p(e,t){(e.Object||e.notif)&&i!==(i=t.link)&&_(l,"href",i)},d(e){e&&r(t)}}}function ze(e){let t,n=Object.entries(e.notif.messages).filter(Jt).map(Qt),l=[];for(let t=0;t<n.length;t+=1)l[t]=De(qe(e,n,t));return{c(){t=d("div");for(let e=0;e<l.length;e+=1)l[e].c();_(t,"class","notification is-success is-light errormsg svelte-5nys59")},m(e,n){c(e,t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null)},p(e,s){if(e.Object||e.notif){let i;for(n=Object.entries(s.notif.messages).filter(Jt).map(Qt),i=0;i<n.length;i+=1){const a=qe(s,n,i);l[i]?l[i].p(e,a):(l[i]=De(a),l[i].c(),l[i].m(t,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(e){e&&r(t),f(l,e)}}}function De(e){let t,n,l=e.message+"";return{c(){t=d("div"),n=u(l)},m(e,l){c(e,t,l),o(t,n)},p(e,t){(e.Object||e.notif)&&l!==(l=t.message+"")&&y(n,l)},d(e){e&&r(t)}}}function Me(e){let t,n,l,s,i=e.allwfs[e.wfid].name+"";return{c(){t=d("option"),n=u(i),l=p(),t.__value=s=e.wfid,t.value=t.__value},m(e,s){c(e,t,s),o(t,n),o(t,l)},p(e,l){(e.allwfs||e.wforder)&&i!==(i=l.allwfs[l.wfid].name+"")&&y(n,i),e.wforder&&s!==(s=l.wfid)&&(t.__value=s),t.value=t.__value},d(e){e&&r(t)}}}function Te(e){let t,n=e.allwfs[e.config.wfid].versions,l=[];for(let t=0;t<n.length;t+=1)l[t]=Fe(ke(e,n,t));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=m()},m(e,n){for(let t=0;t<l.length;t+=1)l[t].m(e,n);c(e,t,n)},p(e,s){if(e.allwfs||e.config){let i;for(n=s.allwfs[s.config.wfid].versions,i=0;i<n.length;i+=1){const a=ke(s,n,i);l[i]?l[i].p(e,a):(l[i]=Fe(a),l[i].c(),l[i].m(t.parentNode,t))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(e){f(l,e),e&&r(t)}}}function Re(e){let t;return{c(){(t=d("span")).textContent="LATEST:"},m(e,n){c(e,t,n)},d(e){e&&r(t)}}}function Fe(e){let t,n,l,s,i,a,f,m=e.wfv.date+"",h=e.wfv.name+"",g=e.wfv.latest&&Re();return{c(){t=d("option"),g&&g.c(),n=p(),l=u(m),s=u(" -- "),i=u(h),a=p(),t.__value=f=e.wfv,t.value=t.__value},m(e,r){c(e,t,r),g&&g.m(t,null),o(t,n),o(t,l),o(t,s),o(t,i),o(t,a)},p(e,s){s.wfv.latest?g||((g=Re()).c(),g.m(t,n)):g&&(g.d(1),g=null),(e.allwfs||e.config)&&m!==(m=s.wfv.date+"")&&y(l,m),(e.allwfs||e.config)&&h!==(h=s.wfv.name+"")&&y(i,h),(e.allwfs||e.config)&&f!==(f=s.wfv)&&(t.__value=f),t.value=t.__value},d(e){e&&r(t),g&&g.d()}}}function Pe(e){let t,n,l,s,i,a,f,g,b,w,O,j,x,k,$,q,E,L,N,S,A,D,M=e.allwfs[e.config.wfid].wftype+"",T=e.config.analysisname+"",R=e.wf&&"complement_analysis"in e.wf.components&&Ue(e);function F(t){e.dynamicselect_intext_binding.call(null,t),q=!0,z(()=>q=!1)}function P(t){e.dynamicselect_selectval_binding.call(null,t),E=!0,z(()=>E=!1)}function H(t){e.dynamicselect_fetchedData_binding.call(null,t),L=!0,z(()=>L=!1)}let G={niceName:Xt,fetchUrl:"/analysis/baseanalysis/show/"};void 0!==e.base_analysis.typedname&&(G.intext=e.base_analysis.typedname),void 0!==e.base_analysis.selected&&(G.selectval=e.base_analysis.selected),void 0!==e.base_analysis.fetched&&(G.fetchedData=e.base_analysis.fetched);const V=new ce({props:G});C.push(()=>B(V,"intext",F)),C.push(()=>B(V,"selectval",P)),C.push(()=>B(V,"fetchedData",H)),V.$on("selectedvalue",e.selectedvalue_handler);let J="mzmldef"in e.wf.components&&Ie(e);return{c(){t=d("div"),n=d("input"),l=p(),s=d("div"),i=u("Full name will be "),a=d("code"),f=u(M),g=u("_"),b=u(T),w=u("\n    This will be the folder name for the output and prefixed to the output filenames"),O=p(),j=d("div"),(x=d("div")).textContent="Fetch settings/files from a previous analysis",k=p(),R&&R.c(),$=p(),W(V.$$.fragment),N=p(),J&&J.c(),S=m(),_(n,"type","text"),_(n,"class","input"),_(n,"placeholder","Please enter analysis name"),_(t,"class","field"),_(x,"class","title is-5"),_(j,"class","box"),D=h(n,"input",e.input_input_handler)},m(r,d){c(r,t,d),o(t,n),v(n,e.config.analysisname),o(t,l),o(t,s),o(s,i),o(s,a),o(a,f),o(a,g),o(a,b),o(s,w),c(r,O,d),c(r,j,d),o(j,x),o(j,k),R&&R.m(j,null),o(j,$),K(V,j,null),c(r,N,d),J&&J.m(r,d),c(r,S,d),A=!0},p(e,t){e.config&&n.value!==t.config.analysisname&&v(n,t.config.analysisname),A&&!e.allwfs&&!e.config||M===(M=t.allwfs[t.config.wfid].wftype+"")||y(f,M),A&&!e.config||T===(T=t.config.analysisname+"")||y(b,T),t.wf&&"complement_analysis"in t.wf.components?R?R.p(e,t):((R=Ue(t)).c(),R.m(j,$)):R&&(R.d(1),R=null);const l={};!q&&e.base_analysis&&(l.intext=t.base_analysis.typedname),!E&&e.base_analysis&&(l.selectval=t.base_analysis.selected),!L&&e.base_analysis&&(l.fetchedData=t.base_analysis.fetched),V.$set(l),"mzmldef"in t.wf.components?J?J.p(e,t):((J=Ie(t)).c(),J.m(S.parentNode,S)):J&&(J.d(1),J=null)},i(e){A||(U(V.$$.fragment,e),A=!0)},o(e){I(V.$$.fragment,e),A=!1},d(e){e&&r(t),e&&r(O),e&&r(j),R&&R.d(),Y(V),e&&r(N),J&&J.d(e),e&&r(S),D()}}}function Ue(e){let t,n,l,s,i,a,f;return{c(){t=d("div"),n=d("input"),l=p(),(s=d("label")).textContent="Complement previous analysis with new or re-run sets (with replaced or extra raw data)",i=p(),(a=d("a")).innerHTML='<i class="fa fa-question-circle"></i>',_(n,"type","checkbox"),_(s,"class","checkbox"),_(a,"title","Skips parts of analysis already run, faster output"),_(t,"class","checkbox"),f=h(n,"change",e.input_change_handler)},m(r,f){c(r,t,f),o(t,n),n.checked=e.base_analysis.isComplement,o(t,l),o(t,s),o(t,i),o(t,a)},p(e,t){e.base_analysis&&(n.checked=t.base_analysis.isComplement)},d(e){e&&r(t),f()}}}function Ie(e){let t,n,l,s,i,a,u,m=Object.keys(e.wf.components.mzmldef),g=[];for(let t=0;t<m.length;t+=1)g[t]=He(xe(e,m,t));return{c(){(t=d("div")).textContent="Mzml input type",n=p(),l=d("div"),s=d("div"),i=d("select"),(a=d("option")).textContent="Please select one";for(let e=0;e<g.length;e+=1)g[e].c();_(t,"class","title is-5"),a.__value="Please select one",a.value=a.__value,void 0===e.config.mzmldef&&A(()=>e.select_change_handler.call(i)),_(s,"class","select"),_(l,"class","field"),u=h(i,"change",e.select_change_handler)},m(r,f){c(r,t,f),c(r,n,f),c(r,l,f),o(l,s),o(s,i),o(i,a);for(let e=0;e<g.length;e+=1)g[e].m(i,null);w(i,e.config.mzmldef)},p(e,t){if(e.Object||e.wf){let n;for(m=Object.keys(t.wf.components.mzmldef),n=0;n<m.length;n+=1){const l=xe(t,m,n);g[n]?g[n].p(e,l):(g[n]=He(l),g[n].c(),g[n].m(i,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=m.length}e.config&&w(i,t.config.mzmldef)},d(e){e&&r(t),e&&r(n),e&&r(l),f(g,e),u()}}}function He(e){let t,n,l,s,i,a,f=e.comp.split(" ").map(Zt).join(" ")+"",p=e.wf.components.mzmldef[e.comp].join(", ")+"";return{c(){t=d("option"),n=u(f),l=u(" ("),s=u(p),i=u(")"),t.__value=a=e.comp,t.value=t.__value},m(e,a){c(e,t,a),o(t,n),o(t,l),o(t,s),o(t,i)},p(e,l){(e.Object||e.wf)&&f!==(f=l.comp.split(" ").map(Zt).join(" ")+"")&&y(n,f),(e.wf||e.Object)&&p!==(p=l.wf.components.mzmldef[l.comp].join(", ")+"")&&y(s,p),(e.Object||e.wf)&&a!==(a=l.comp)&&(t.__value=a),t.value=t.__value},d(e){e&&r(t)}}}function Be(e){let t,n,l,s,i,a,h,g,b,v,w,O,j,x,k,$,q,C,E,L,N,S,A,z,D,M,T,R,F=e.ds.proj+"",P=e.ds.exp+"",U=e.ds.run+"",I=e.ds.details.qtype+"",H=e.ds.details.instruments.join(", ")+"",B=!e.ds.prefrac&&Ke(e),W=!e.ds.filesaresets&&Ye(e);function K(e,t){return t.ds.prefrac?t.ds.hr?Ve:Ge:Je}let Y=K(0,e),G=Y(e),V=e.ds.changed&&Qe(e),J=Object.entries(e.ds.details.nrstoredfiles),Q=[];for(let t=0;t<J.length;t+=1)Q[t]=Xe(Oe(e,J,t));let X=e.ds.details.nrstoredfiles.refined_mzML&&Ze(),Z=e.wf&&et(e),ee=e.ds.filesaresets&&nt(e);return{c(){t=d("div"),n=d("div"),B&&B.c(),l=p(),W&&W.c(),s=p(),i=d("div"),a=d("span"),h=u(F),g=u(" // "),b=u(P),v=u(" // "),w=u(U),O=u(" //"),j=p(),G.c(),x=p(),V&&V.c(),k=p(),$=d("div"),q=d("span"),C=u(I),E=p();for(let e=0;e<Q.length;e+=1)Q[e].c();L=p(),N=d("span"),S=u("// "),A=u(H),z=p(),X&&X.c(),D=p(),M=d("div"),Z&&Z.c(),T=p(),ee&&ee.c(),R=m(),_(i,"class","subtitle is-6 has-text-primary"),_($,"class","subtitle is-6"),_(n,"class","column"),_(M,"class","column"),_(t,"class","columns")},m(e,r){c(e,t,r),o(t,n),B&&B.m(n,null),o(n,l),W&&W.m(n,null),o(n,s),o(n,i),o(i,a),o(a,h),o(a,g),o(a,b),o(a,v),o(a,w),o(a,O),o(i,j),G.m(i,null),o(n,x),V&&V.m(n,null),o(n,k),o(n,$),o($,q),o(q,C),o($,E);for(let e=0;e<Q.length;e+=1)Q[e].m($,null);o($,L),o($,N),o(N,S),o(N,A),o(n,z),X&&X.m(n,null),o(t,D),o(t,M),Z&&Z.m(M,null),c(e,T,r),ee&&ee.m(e,r),c(e,R,r)},p(e,t){if(t.ds.prefrac?B&&(B.d(1),B=null):B?B.p(e,t):((B=Ke(t)).c(),B.m(n,l)),t.ds.filesaresets?W&&(W.d(1),W=null):W?W.p(e,t):((W=Ye(t)).c(),W.m(n,s)),(e.Object||e.dsets)&&F!==(F=t.ds.proj+"")&&y(h,F),(e.Object||e.dsets)&&P!==(P=t.ds.exp+"")&&y(b,P),(e.Object||e.dsets)&&U!==(U=t.ds.run+"")&&y(w,U),Y===(Y=K(0,t))&&G?G.p(e,t):(G.d(1),(G=Y(t))&&(G.c(),G.m(i,null))),t.ds.changed?V?V.p(e,t):((V=Qe(t)).c(),V.m(n,k)):V&&(V.d(1),V=null),(e.Object||e.dsets)&&I!==(I=t.ds.details.qtype+"")&&y(C,I),e.Object||e.dsets){let n;for(J=Object.entries(t.ds.details.nrstoredfiles),n=0;n<J.length;n+=1){const l=Oe(t,J,n);Q[n]?Q[n].p(e,l):(Q[n]=Xe(l),Q[n].c(),Q[n].m($,L))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=J.length}(e.Object||e.dsets)&&H!==(H=t.ds.details.instruments.join(", ")+"")&&y(A,H),t.ds.details.nrstoredfiles.refined_mzML?X||((X=Ze()).c(),X.m(n,null)):X&&(X.d(1),X=null),t.wf?Z?Z.p(e,t):((Z=et(t)).c(),Z.m(M,null)):Z&&(Z.d(1),Z=null),t.ds.filesaresets?ee?ee.p(e,t):((ee=nt(t)).c(),ee.m(R.parentNode,R)):ee&&(ee.d(1),ee=null)},d(e){e&&r(t),B&&B.d(),W&&W.d(),G.d(),V&&V.d(),f(Q,e),X&&X.d(),Z&&Z.d(),e&&r(T),ee&&ee.d(e),e&&r(R)}}}function We(e){let t,n,l,s,i,a,f,p,m=e.ds.proj+"",h=e.ds.run+"",g=e.ds.details.qtype+"",b=e.ds.details.instruments.join(",")+"";return{c(){t=d("span"),n=u(m),l=u(" // Labelcheck // "),s=u(h),i=u(" // "),a=u(g),f=u(" // "),p=u(b),_(t,"class","has-text-primary")},m(e,r){c(e,t,r),o(t,n),o(t,l),o(t,s),o(t,i),o(t,a),o(t,f),o(t,p)},p(e,t){(e.Object||e.dsets)&&m!==(m=t.ds.proj+"")&&y(n,m),(e.Object||e.dsets)&&h!==(h=t.ds.run+"")&&y(s,h),(e.Object||e.dsets)&&g!==(g=t.ds.details.qtype+"")&&y(a,g),(e.Object||e.dsets)&&b!==(b=t.ds.details.instruments.join(",")+"")&&y(p,b)},d(e){e&&r(t)}}}function Ke(e){let t,n,l,s;function i(){e.input_change_handler_1.call(t,e)}return{c(){t=d("input"),n=p(),(l=d("label")).textContent="Each file is a different sample",_(t,"type","checkbox"),_(l,"class","checkbox"),s=h(t,"change",i)},m(s,i){c(s,t,i),t.checked=e.ds.filesaresets,c(s,n,i),c(s,l,i)},p(n,l){e=l,(n.Object||n.dsets)&&(t.checked=e.ds.filesaresets)},d(e){e&&r(t),e&&r(n),e&&r(l),s()}}}function Ye(e){let t,n,s;function i(){e.input_input_handler_1.call(n,e)}return{c(){t=d("div"),_(n=d("input"),"type","text"),_(n,"class","input"),_(n,"placeholder","Name of set"),_(t,"class","field"),s=[h(n,"input",i),h(n,"change",e.updateIsoquant)]},m(l,s){c(l,t,s),o(t,n),v(n,e.ds.setname)},p(t,l){e=l,(t.Object||t.dsets)&&n.value!==e.ds.setname&&v(n,e.ds.setname)},d(e){e&&r(t),l(s)}}}function Ge(e){let t,n,l=e.ds.prefrac+"";return{c(){t=d("span"),n=u(l)},m(e,l){c(e,t,l),o(t,n)},p(e,t){(e.Object||e.dsets)&&l!==(l=t.ds.prefrac+"")&&y(n,l)},d(e){e&&r(t)}}}function Ve(e){let t,n,l=e.ds.hr+"";return{c(){t=d("span"),n=u(l)},m(e,l){c(e,t,l),o(t,n)},p(e,t){(e.Object||e.dsets)&&l!==(l=t.ds.hr+"")&&y(n,l)},d(e){e&&r(t)}}}function Je(e){let t,n,l=e.ds.dtype+"";return{c(){t=d("span"),n=u(l)},m(e,l){c(e,t,l),o(t,n)},p(e,t){(e.Object||e.dsets)&&l!==(l=t.ds.dtype+"")&&y(n,l)},d(e){e&&r(t)}}}function Qe(e){let t,n,l,s,i;function a(...t){return e.click_handler(e,...t)}return{c(){t=d("div"),n=d("span"),l=u("This dataset has changed files while editing  "),(s=d("button")).textContent="Reload dataset",_(s,"class","button is-small"),_(t,"class","has-text-danger"),i=h(s,"click",a)},m(e,i){c(e,t,i),o(t,n),o(n,l),o(n,s)},p(t,n){e=n},d(e){e&&r(t),i()}}}function Xe(e){let t,n,l,s,i,a,f=e.sf[1]+"",m=e.sf[0]+"";return{c(){t=d("span"),n=u("// "),l=u(f),s=p(),i=u(m),a=u(" files")},m(e,r){c(e,t,r),o(t,n),o(t,l),o(t,s),o(t,i),o(t,a)},p(e,t){(e.Object||e.dsets)&&f!==(f=t.sf[1]+"")&&y(l,f),(e.Object||e.dsets)&&m!==(m=t.sf[0]+"")&&y(i,m)},d(e){e&&r(t)}}}function Ze(e){let t;return{c(){(t=d("div")).innerHTML="<strong>Enforcing use of refined mzML(s)</strong>",_(t,"class","subtitle is-6")},m(e,n){c(e,t,n)},d(e){e&&r(t)}}}function et(e){let t,n=e.ds.prefrac&&"mzmldef"in e.wf.components&&e.config.mzmldef in e.wf.components.mzmldef&&e.wf.components.mzmldef[e.config.mzmldef].indexOf("plate")>-1,l=n&&tt(e);return{c(){l&&l.c(),t=m()},m(e,n){l&&l.m(e,n),c(e,t,n)},p(e,s){(e.Object||e.dsets||e.wf||e.config)&&(n=s.ds.prefrac&&"mzmldef"in s.wf.components&&s.config.mzmldef in s.wf.components.mzmldef&&s.wf.components.mzmldef[s.config.mzmldef].indexOf("plate")>-1),n?l?l.p(e,s):((l=tt(s)).c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){l&&l.d(e),e&&r(t)}}}function tt(e){let t,n,s,i,a,f,m,g,b,w=e.matchedFr[e.ds.id]+"";function O(){e.input_input_handler_2.call(i,e)}function j(...t){return e.change_handler_1(e,...t)}return{c(){t=d("div"),(n=d("label")).textContent="Regex for fraction detection",s=p(),i=d("input"),a=p(),f=d("span"),m=u(w),g=u(" fractions matched"),_(n,"class","label"),_(i,"type","text"),_(i,"class","input"),_(t,"class","field"),b=[h(i,"input",O),h(i,"change",j)]},m(l,r){c(l,t,r),o(t,n),o(t,s),o(t,i),v(i,e.ds.frregex),c(l,a,r),c(l,f,r),o(f,m),o(f,g)},p(t,n){e=n,(t.Object||t.dsets)&&i.value!==e.ds.frregex&&v(i,e.ds.frregex),(t.matchedFr||t.Object||t.dsets)&&w!==(w=e.matchedFr[e.ds.id]+"")&&y(m,w)},d(e){e&&r(t),e&&r(a),e&&r(f),l(b)}}}function nt(e){let t,n=e.ds.files,l=[];for(let t=0;t<n.length;t+=1)l[t]=lt(we(e,n,t));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=m()},m(e,n){for(let t=0;t<l.length;t+=1)l[t].m(e,n);c(e,t,n)},p(e,s){if(e.Object||e.dsets){let i;for(n=s.ds.files,i=0;i<n.length;i+=1){const a=we(s,n,i);l[i]?l[i].p(e,a):(l[i]=lt(a),l[i].c(),l[i].m(t.parentNode,t))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(e){f(l,e),e&&r(t)}}}function lt(e){let t,n,l,s,i,a,f,m,g=e.fn.name+"";function b(){e.input_input_handler_3.call(a,e)}return{c(){t=d("div"),n=d("div"),l=u(g),s=p(),i=d("div"),a=d("input"),_(n,"class","column"),_(a,"type","text"),_(a,"class","input"),_(a,"placeholder",f=e.fn.sample),_(i,"class","column"),_(t,"class","columns"),m=h(a,"input",b)},m(r,f){c(r,t,f),o(t,n),o(n,l),o(t,s),o(t,i),o(i,a),v(a,e.fn.setname)},p(t,n){e=n,(t.Object||t.dsets)&&g!==(g=e.fn.name+"")&&y(l,g),(t.Object||t.dsets)&&a.value!==e.fn.setname&&v(a,e.fn.setname),(t.Object||t.dsets)&&f!==(f=e.fn.sample)&&_(a,"placeholder",f)},d(e){e&&r(t),m()}}}function st(e){let t,n;function l(e,t){return(null==n||e.Object||e.dsets)&&(n=!("labelcheck"!==t.ds.dtype.toLowerCase())),n?We:Be}let s=l(null,e),i=s(e);return{c(){t=d("div"),i.c(),_(t,"class","box")},m(e,n){c(e,t,n),i.m(t,null)},p(e,n){s===(s=l(e,n))&&i?i.p(e,n):(i.d(1),(i=s(n))&&(i.c(),i.m(t,null)))},d(e){e&&r(t),i.d()}}}function it(e){let t,n,l,s,i,a,o="isobaric_quant"in e.wf.components&&Object.keys(e.config.isoquants).length,f=o&&at(e),d=e.wf.multicheck.length+e.wf.numparams.length+e.wf.flags.length&&yt(e),u=e.wf.multifileparams.length+e.wf.fileparams.length&&xt(e),h=e.wf.fixedfileparams.length&&At(e);function g(e,t){return!t.runButtonActive||existing_analysis&&!existing_analysis.editable?t.postingAnalysis?Mt:Dt:Tt}let _=g(0,e),b=_(e);return{c(){f&&f.c(),t=p(),d&&d.c(),n=p(),u&&u.c(),l=p(),h&&h.c(),s=p(),b.c(),i=m()},m(e,o){f&&f.m(e,o),c(e,t,o),d&&d.m(e,o),c(e,n,o),u&&u.m(e,o),c(e,l,o),h&&h.m(e,o),c(e,s,o),b.m(e,o),c(e,i,o),a=!0},p(e,a){(e.wf||e.Object||e.config)&&(o="isobaric_quant"in a.wf.components&&Object.keys(a.config.isoquants).length),o?f?f.p(e,a):((f=at(a)).c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),a.wf.multicheck.length+a.wf.numparams.length+a.wf.flags.length?d?d.p(e,a):((d=yt(a)).c(),d.m(n.parentNode,n)):d&&(d.d(1),d=null),a.wf.multifileparams.length+a.wf.fileparams.length?u?(u.p(e,a),U(u,1)):((u=xt(a)).c(),U(u,1),u.m(l.parentNode,l)):u&&(F(),I(u,1,1,()=>{u=null}),P()),a.wf.fixedfileparams.length?h?h.p(e,a):((h=At(a)).c(),h.m(s.parentNode,s)):h&&(h.d(1),h=null),_===(_=g(0,a))&&b?b.p(e,a):(b.d(1),(b=_(a))&&(b.c(),b.m(i.parentNode,i)))},i(e){a||(U(u),a=!0)},o(e){I(u),a=!1},d(e){f&&f.d(e),e&&r(t),d&&d.d(e),e&&r(n),u&&u.d(e),e&&r(l),h&&h.d(e),e&&r(s),b.d(e),e&&r(i)}}}function at(e){let t,n,l,s=Object.entries(e.config.isoquants),i=[];for(let t=0;t<s.length;t+=1)i[t]=bt(ve(e,s,t));return{c(){t=d("div"),(n=d("div")).textContent="Isobaric quantification",l=p();for(let e=0;e<i.length;e+=1)i[e].c();_(n,"class","title is-5"),_(t,"class","box")},m(e,s){c(e,t,s),o(t,n),o(t,l);for(let e=0;e<i.length;e+=1)i[e].m(t,null)},p(e,n){if(e.sortChannels||e.Object||e.config||e.wf){let l;for(s=Object.entries(n.config.isoquants),l=0;l<s.length;l+=1){const a=ve(n,s,l);i[l]?i[l].p(e,a):(i[l]=bt(a),i[l].c(),i[l].m(t,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=s.length}},d(e){e&&r(t),f(i,e)}}}function ot(e){let t,n,l=1===Object.keys(e.config.isoquants).length&&!Object.values(e.isoq[1].denoms).filter(It).length,s=!e.isoq[1].sweep&&!Object.values(e.isoq[1].denoms).filter(Ut).length,i=l&&ct(e),a=s&&rt(e);return{c(){i&&i.c(),t=p(),a&&a.c(),n=m()},m(e,l){i&&i.m(e,l),c(e,t,l),a&&a.m(e,l),c(e,n,l)},p(e,o){(e.Object||e.config)&&(l=1===Object.keys(o.config.isoquants).length&&!Object.values(o.isoq[1].denoms).filter(It).length),l?i?i.p(e,o):((i=ct(o)).c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),(e.Object||e.config)&&(s=!o.isoq[1].sweep&&!Object.values(o.isoq[1].denoms).filter(Ut).length),s?a?a.p(e,o):((a=rt(o)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(e){i&&i.d(e),e&&r(t),a&&a.d(e),e&&r(n)}}}function ct(e){let t,n,l,s,i;function a(){e.input_change_handler_2.call(n,e)}return{c(){t=d("div"),n=d("input"),l=p(),(s=d("label")).innerHTML='Use median sweeping (no predefined denominators)\n          <span class="icon is-small"><a title="Pick median denominator per PSM, only for single-set analyses"><i class="fa fa-question-circle"></i></a></span>',_(n,"type","checkbox"),_(s,"class","checkbox"),_(t,"class","field"),i=h(n,"change",a)},m(i,a){c(i,t,a),o(t,n),n.checked=e.isoq[1].sweep,o(t,l),o(t,s)},p(t,l){e=l,(t.Object||t.config)&&(n.checked=e.isoq[1].sweep)},d(e){e&&r(t),i()}}}function rt(e){let t,n,l,s,i;function a(){e.input_change_handler_3.call(n,e)}return{c(){t=d("div"),n=d("input"),l=p(),(s=d("label")).innerHTML='Report isobaric ion intensities instead of ratios\n          <span class="icon is-small"><a title="Reports median intensity rather than fold changes, not for use with DEqMS"><i class="fa fa-question-circle"></i></a></span>',_(n,"type","checkbox"),_(s,"class","checkbox"),_(t,"class","field"),i=h(n,"change",a)},m(i,a){c(i,t,a),o(t,n),n.checked=e.isoq[1].report_intensity,o(t,l),o(t,s)},p(t,l){e=l,(t.Object||t.config)&&(n.checked=e.isoq[1].report_intensity)},d(e){e&&r(t),i()}}}function ft(e){let t,n,l,s;function i(e,t){return t.isoq[1].sweep||t.isoq[1].report_intensity?dt:ut}let a=i(0,e),o=a(e);return{c(){o.c(),t=p(),(n=d("th")).textContent="Channel",l=p(),(s=d("th")).textContent="Sample name"},m(e,i){o.m(e,i),c(e,t,i),c(e,n,i),c(e,l,i),c(e,s,i)},p(e,n){a!==(a=i(0,n))&&(o.d(1),(o=a(n))&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&r(t),e&&r(n),e&&r(l),e&&r(s)}}}function dt(e){let t;return{c(){(t=d("th")).innerHTML="<del>Denominator</del>"},m(e,n){c(e,t,n)},d(e){e&&r(t)}}}function ut(e){let t;return{c(){(t=d("th")).textContent="Denominator"},m(e,n){c(e,t,n)},d(e){e&&r(t)}}}function pt(e){let t;return{c(){(t=d("th")).innerHTML='Sample group \n                <span class="icon is-small"><a title="For DEqMS and PCA plots"><i class="fa fa-question-circle"></i></a></span>\n                LEAVE EMPTY FOR INTERNAL STANDARDS!'},m(e,n){c(e,t,n)},d(e){e&&r(t)}}}function mt(e){let t,n=!e.isoq[1].sweep&&!e.isoq[1].report_intensity&&ht(e);return{c(){t=d("td"),n&&n.c()},m(e,l){c(e,t,l),n&&n.m(t,null)},p(e,l){l.isoq[1].sweep||l.isoq[1].report_intensity?n&&(n.d(1),n=null):n?n.p(e,l):((n=ht(l)).c(),n.m(t,null))},d(e){e&&r(t),n&&n.d()}}}function ht(e){let t,n;function l(){e.input_change_handler_4.call(t,e)}return{c(){_(t=d("input"),"type","checkbox"),n=h(t,"change",l)},m(n,l){c(n,t,l),t.checked=e.isoq[1].denoms[e.ch]},p(n,l){e=l,(n.Object||n.config||n.sortChannels)&&(t.checked=e.isoq[1].denoms[e.ch])},d(e){e&&r(t),n()}}}function gt(e){let t,n,l;function s(){e.input_input_handler_4.call(n,e)}return{c(){t=d("td"),_(n=d("input"),"type","text"),_(n,"class","input"),_(n,"placeholder","Sample group or empty (e.g. CTRL, TREAT)"),l=h(n,"input",s)},m(l,s){c(l,t,s),o(t,n),v(n,e.isoq[1].samplegroups[e.ch])},p(t,l){e=l,(t.Object||t.config||t.sortChannels)&&n.value!==e.isoq[1].samplegroups[e.ch]&&v(n,e.isoq[1].samplegroups[e.ch])},d(e){e&&r(t),l()}}}function _t(e){let t,n,l,s,i,a,f,m,h,g=e.ch+"",_=e.sample+"",b=!("labelcheck"in e.wf.components)&&mt(e),v=!("labelcheck"in e.wf.components)&&gt(e);return{c(){t=d("tr"),b&&b.c(),n=p(),l=d("td"),s=u(g),i=p(),a=d("td"),f=u(_),m=p(),v&&v.c(),h=p()},m(e,r){c(e,t,r),b&&b.m(t,null),o(t,n),o(t,l),o(l,s),o(t,i),o(t,a),o(a,f),o(t,m),v&&v.m(t,null),o(t,h)},p(e,l){"labelcheck"in l.wf.components?b&&(b.d(1),b=null):b?b.p(e,l):((b=mt(l)).c(),b.m(t,n)),(e.Object||e.config)&&g!==(g=l.ch+"")&&y(s,g),(e.Object||e.config)&&_!==(_=l.sample+"")&&y(f,_),"labelcheck"in l.wf.components?v&&(v.d(1),v=null):v?v.p(e,l):((v=gt(l)).c(),v.m(t,h))},d(e){e&&r(t),b&&b.d(),v&&v.d()}}}function bt(e){let t,n,l,s,i,a,m,h,g,b,v,w,O,j,x=e.isoq[0]+"",k=!("labelcheck"in e.wf.components)&&ot(e),$=!("labelcheck"in e.wf.components)&&ft(e),q=!("labelcheck"in e.wf.components)&&pt(),C=Pt(e.isoq[1].channels),E=[];for(let t=0;t<C.length;t+=1)E[t]=_t(ye(e,C,t));return{c(){t=d("div"),n=u("Set: "),l=u(x),s=p(),k&&k.c(),i=p(),a=d("div"),m=d("div"),h=d("table"),g=d("thead"),b=d("tr"),$&&$.c(),v=p(),q&&q.c(),w=p(),O=d("tbody");for(let e=0;e<E.length;e+=1)E[e].c();j=p(),_(t,"class","has-text-primary title is-6"),_(h,"class","table is-striped is-narrow"),_(m,"class","column is-three-quarters"),_(a,"class","columns")},m(e,r){c(e,t,r),o(t,n),o(t,l),c(e,s,r),k&&k.m(e,r),c(e,i,r),c(e,a,r),o(a,m),o(m,h),o(h,g),o(g,b),$&&$.m(b,null),o(b,v),q&&q.m(b,null),o(h,w),o(h,O);for(let e=0;e<E.length;e+=1)E[e].m(O,null);o(a,j)},p(e,t){if((e.Object||e.config)&&x!==(x=t.isoq[0]+"")&&y(l,x),"labelcheck"in t.wf.components?k&&(k.d(1),k=null):k?k.p(e,t):((k=ot(t)).c(),k.m(i.parentNode,i)),"labelcheck"in t.wf.components?$&&($.d(1),$=null):$?$.p(e,t):(($=ft(t)).c(),$.m(b,v)),"labelcheck"in t.wf.components?q&&(q.d(1),q=null):q||((q=pt()).c(),q.m(b,null)),e.wf||e.Object||e.config||e.sortChannels){let n;for(C=Pt(t.isoq[1].channels),n=0;n<C.length;n+=1){const l=ye(t,C,n);E[n]?E[n].p(e,l):(E[n]=_t(l),E[n].c(),E[n].m(O,null))}for(;n<E.length;n+=1)E[n].d(1);E.length=C.length}},d(e){e&&r(t),e&&r(s),k&&k.d(e),e&&r(i),e&&r(a),$&&$.d(),q&&q.d(),f(E,e)}}}function yt(e){let t,n,l,s,i,a,u,m=e.wf.multicheck,h=[];for(let t=0;t<m.length;t+=1)h[t]=wt(be(e,m,t));let g=e.wf.numparams,b=[];for(let t=0;t<g.length;t+=1)b[t]=Ot(ge(e,g,t));let y=e.wf.flags,v=[];for(let t=0;t<y.length;t+=1)v[t]=jt(he(e,y,t));return{c(){t=d("div"),(n=d("div")).textContent="Workflow parameters",l=p();for(let e=0;e<h.length;e+=1)h[e].c();s=p();for(let e=0;e<b.length;e+=1)b[e].c();i=p(),(a=d("label")).textContent="Config flags",u=p();for(let e=0;e<v.length;e+=1)v[e].c();_(n,"class","title is-5"),_(a,"class","label"),_(t,"class","box")},m(e,r){c(e,t,r),o(t,n),o(t,l);for(let e=0;e<h.length;e+=1)h[e].m(t,null);o(t,s);for(let e=0;e<b.length;e+=1)b[e].m(t,null);o(t,i),o(t,a),o(t,u);for(let e=0;e<v.length;e+=1)v[e].m(t,null)},p(e,n){if(e.Object||e.wf||e.config){let l;for(m=n.wf.multicheck,l=0;l<m.length;l+=1){const i=be(n,m,l);h[l]?h[l].p(e,i):(h[l]=wt(i),h[l].c(),h[l].m(t,s))}for(;l<h.length;l+=1)h[l].d(1);h.length=m.length}if(e.config||e.wf){let l;for(g=n.wf.numparams,l=0;l<g.length;l+=1){const s=ge(n,g,l);b[l]?b[l].p(e,s):(b[l]=Ot(s),b[l].c(),b[l].m(t,i))}for(;l<b.length;l+=1)b[l].d(1);b.length=g.length}if(e.wf||e.config){let l;for(y=n.wf.flags,l=0;l<y.length;l+=1){const s=he(n,y,l);v[l]?v[l].p(e,s):(v[l]=jt(s),v[l].c(),v[l].m(t,null))}for(;l<v.length;l+=1)v[l].d(1);v.length=y.length}},d(e){e&&r(t),f(h,e),f(b,e),f(v,e)}}}function vt(e){let t,n,l,s,i,a,f,m=e.opt[1]+"";return{c(){t=d("div"),n=d("input"),s=p(),i=d("label"),a=u(m),e.$$binding_groups[1].push(n),n.__value=l=`${e.id}___${e.opt[0]}`,n.value=n.__value,_(n,"type","checkbox"),_(i,"class","checkbox"),f=h(n,"change",e.input_change_handler_5)},m(l,r){c(l,t,r),o(t,n),n.checked=~e.config.multicheck.indexOf(n.__value),o(t,s),o(t,i),o(i,a)},p(e,t){e.config&&(n.checked=~t.config.multicheck.indexOf(n.__value)),(e.wf||e.Object)&&l!==(l=`${t.id}___${t.opt[0]}`)&&(n.__value=l),n.value=n.__value,(e.Object||e.wf)&&m!==(m=t.opt[1]+"")&&y(a,m)},d(l){l&&r(t),e.$$binding_groups[1].splice(e.$$binding_groups[1].indexOf(n),1),f()}}}function wt(e){let t,n,l,s,i,a,m,h=e.name+"",g=e.nf+"",b=Object.entries(e.opts),v=[];for(let t=0;t<b.length;t+=1)v[t]=vt(_e(e,b,t));return{c(){t=d("div"),n=d("label"),l=u(h),s=p(),i=d("code"),a=u(g),m=p();for(let e=0;e<v.length;e+=1)v[e].c();_(n,"class","label"),_(t,"class","field")},m(e,r){c(e,t,r),o(t,n),o(n,l),o(n,s),o(n,i),o(i,a),o(t,m);for(let e=0;e<v.length;e+=1)v[e].m(t,null)},p(e,n){if(e.wf&&h!==(h=n.name+"")&&y(l,h),e.wf&&g!==(g=n.nf+"")&&y(a,g),e.Object||e.wf||e.config){let l;for(b=Object.entries(n.opts),l=0;l<b.length;l+=1){const s=_e(n,b,l);v[l]?v[l].p(e,s):(v[l]=vt(s),v[l].c(),v[l].m(t,null))}for(;l<v.length;l+=1)v[l].d(1);v.length=b.length}},d(e){e&&r(t),f(v,e)}}}function Ot(e){let t,n,l,s,i,a,f,m,g,b=e.name+"",w=e.nf+"",O=!1;function j(){O=!0,e.input_input_handler_5.call(m,e)}return{c(){t=d("div"),n=d("label"),l=u(b),s=p(),i=d("code"),a=u(w),f=p(),m=d("input"),_(n,"class","label"),_(m,"type","number"),_(m,"class","input"),_(t,"class","field"),g=h(m,"input",j)},m(r,d){c(r,t,d),o(t,n),o(n,l),o(n,s),o(n,i),o(i,a),o(t,f),o(t,m),v(m,e.config.inputparams[e.id])},p(t,n){e=n,t.wf&&b!==(b=e.name+"")&&y(l,b),t.wf&&w!==(w=e.nf+"")&&y(a,w),O||!t.config&&!t.wf||v(m,e.config.inputparams[e.id]),O=!1},d(e){e&&r(t),g()}}}function jt(e){let t,n,l,s,i,a,f,m,g,b,v,w=e.name+"",O=e.nf+"";return{c(){t=d("div"),n=d("input"),s=p(),i=d("label"),a=u(w),f=u(": "),m=d("code"),g=u(O),b=p(),e.$$binding_groups[0].push(n),n.__value=l=e.id,n.value=n.__value,_(n,"type","checkbox"),_(i,"class","checkbox"),v=h(n,"change",e.input_change_handler_6)},m(l,r){c(l,t,r),o(t,n),n.checked=~e.config.flags.indexOf(n.__value),o(t,s),o(t,i),o(i,a),o(t,f),o(t,m),o(m,g),o(t,b)},p(e,t){e.config&&(n.checked=~t.config.flags.indexOf(n.__value)),e.wf&&l!==(l=t.id)&&(n.__value=l),n.value=n.__value,e.wf&&w!==(w=t.name+"")&&y(a,w),e.wf&&O!==(O=t.nf+"")&&y(g,O)},d(l){l&&r(t),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(n),1),v()}}}function xt(e){let t,n,l,s,i,a,m,h,g,b,y;function v(t){e.dynamicselect_intext_binding_1.call(null,t),s=!0,z(()=>s=!1)}function w(t){e.dynamicselect_selectval_binding_1.call(null,t),i=!0,z(()=>i=!1)}function O(t){e.dynamicselect_fetchedData_binding_1.call(null,t),a=!0,z(()=>a=!1)}let j={niceName:en,fetchUrl:"/analysis/baseanalysis/show/"};void 0!==e.adding_analysis.typedname&&(j.intext=e.adding_analysis.typedname),void 0!==e.adding_analysis.selected&&(j.selectval=e.adding_analysis.selected),void 0!==e.adding_analysis.fetched&&(j.fetchedData=e.adding_analysis.fetched);const x=new ce({props:j});C.push(()=>B(x,"intext",v)),C.push(()=>B(x,"selectval",w)),C.push(()=>B(x,"fetchedData",O)),x.$on("selectedvalue",e.selectedvalue_handler_1);let k=e.added_analyses_order,$=[];for(let t=0;t<k.length;t+=1)$[t]=kt(me(e,k,t));let q=e.wf.multifileparams,E=[];for(let t=0;t<q.length;t+=1)E[t]=Et(pe(e,q,t));const L=e=>I(E[e],1,1,()=>{E[e]=null});let N=e.wf.fileparams,S=[];for(let t=0;t<N.length;t+=1)S[t]=St(de(e,N,t));const A=e=>I(S[e],1,1,()=>{S[e]=null});return{c(){t=d("div"),(n=d("div")).textContent="Input files",l=u("\n    Pick previous analyses to use results as input if needed:\n    "),W(x.$$.fragment),m=p(),h=d("div");for(let e=0;e<$.length;e+=1)$[e].c();g=p();for(let e=0;e<E.length;e+=1)E[e].c();b=p();for(let e=0;e<S.length;e+=1)S[e].c();_(n,"class","title is-5"),_(h,"class","tags"),_(t,"class","box")},m(e,s){c(e,t,s),o(t,n),o(t,l),K(x,t,null),o(t,m),o(t,h);for(let e=0;e<$.length;e+=1)$[e].m(h,null);o(t,g);for(let e=0;e<E.length;e+=1)E[e].m(t,null);o(t,b);for(let e=0;e<S.length;e+=1)S[e].m(t,null);y=!0},p(e,n){const l={};if(!s&&e.adding_analysis&&(l.intext=n.adding_analysis.typedname),!i&&e.adding_analysis&&(l.selectval=n.adding_analysis.selected),!a&&e.adding_analysis&&(l.fetchedData=n.adding_analysis.fetched),x.$set(l),e.removeAnalysisResults||e.added_analyses_order||e.added_results){let t;for(k=n.added_analyses_order,t=0;t<k.length;t+=1){const l=me(n,k,t);$[t]?$[t].p(e,l):($[t]=kt(l),$[t].c(),$[t].m(h,null))}for(;t<$.length;t+=1)$[t].d(1);$.length=k.length}if(e.Object||e.config||e.wf||e.getIntextFileName||e.libfiles||e.libfnorder||e.resultfiles||e.resultfnorder||e.removeMultifile||e.addMultifile){let l;for(q=n.wf.multifileparams,l=0;l<q.length;l+=1){const s=pe(n,q,l);E[l]?(E[l].p(e,s),U(E[l],1)):(E[l]=Et(s),E[l].c(),U(E[l],1),E[l].m(t,b))}for(F(),l=q.length;l<E.length;l+=1)L(l);P()}if(e.wf||e.getIntextFileName||e.config||e.libfiles||e.libfnorder||e.Object||e.resultfiles||e.resultfnorder){let l;for(N=n.wf.fileparams,l=0;l<N.length;l+=1){const s=de(n,N,l);S[l]?(S[l].p(e,s),U(S[l],1)):(S[l]=St(s),S[l].c(),U(S[l],1),S[l].m(t,null))}for(F(),l=N.length;l<S.length;l+=1)A(l);P()}},i(e){if(!y){U(x.$$.fragment,e);for(let e=0;e<q.length;e+=1)U(E[e]);for(let e=0;e<N.length;e+=1)U(S[e]);y=!0}},o(e){I(x.$$.fragment,e),E=E.filter(Boolean);for(let e=0;e<E.length;e+=1)I(E[e]);S=S.filter(Boolean);for(let e=0;e<S.length;e+=1)I(S[e]);y=!1},d(e){e&&r(t),Y(x),f($,e),f(E,e),f(S,e)}}}function kt(e){let t,n,l,s,i,a,f=e.added_results[e.anaid].analysisname+"";function m(...t){return e.click_handler_1(e,...t)}return{c(){t=d("span"),n=u(f),l=p(),s=d("button"),i=p(),_(s,"class","delete is-small"),_(t,"class","tag is-medium is-info"),a=h(s,"click",m)},m(e,a){c(e,t,a),o(t,n),o(t,l),o(t,s),o(t,i)},p(t,l){e=l,(t.added_results||t.added_analyses_order)&&f!==(f=e.added_results[e.anaid].analysisname+"")&&y(n,f)},d(e){e&&r(t),a()}}}function $t(e){let t,n;function l(n){e.dynamicselect_selectval_binding_3.call(null,n,e),t=!0,z(()=>t=!1)}let s={intext:Ft(e.config.multifileparams[e.filep.id][e.mfpkey],Object.assign(e.resultfiles,e.libfiles[e.filep.ftype])),niceName:nn,fixedoptions:Object.assign(e.resultfiles,e.libfiles[e.filep.ftype]),fixedorder:e.resultfnorder.concat(e.libfnorder[e.filep.ftype])};void 0!==e.config.multifileparams[e.filep.id][e.mfpkey]&&(s.selectval=e.config.multifileparams[e.filep.id][e.mfpkey]);const i=new ce({props:s});return C.push(()=>B(i,"selectval",l)),{c(){W(i.$$.fragment)},m(e,t){K(i,e,t),n=!0},p(n,l){e=l;const s={};(n.config||n.wf||n.Object||n.resultfiles||n.libfiles)&&(s.intext=Ft(e.config.multifileparams[e.filep.id][e.mfpkey],Object.assign(e.resultfiles,e.libfiles[e.filep.ftype]))),(n.Object||n.resultfiles||n.libfiles||n.wf)&&(s.fixedoptions=Object.assign(e.resultfiles,e.libfiles[e.filep.ftype])),(n.resultfnorder||n.libfnorder||n.wf)&&(s.fixedorder=e.resultfnorder.concat(e.libfnorder[e.filep.ftype])),!t&&(n.config||n.wf||n.Object)&&(s.selectval=e.config.multifileparams[e.filep.id][e.mfpkey]),i.$set(s)},i(e){n||(U(i.$$.fragment,e),n=!0)},o(e){I(i.$$.fragment,e),n=!1},d(e){Y(i,e)}}}function qt(e){let t,n;function l(n){e.dynamicselect_selectval_binding_2.call(null,n,e),t=!0,z(()=>t=!1)}let s={intext:Ft(e.config.multifileparams[e.filep.id][e.mfpkey],e.libfiles[e.filep.ftype]),niceName:tn,fixedoptions:e.libfiles[e.filep.ftype],fixedorder:e.libfnorder[e.filep.ftype]};void 0!==e.config.multifileparams[e.filep.id][e.mfpkey]&&(s.selectval=e.config.multifileparams[e.filep.id][e.mfpkey]);const i=new ce({props:s});return C.push(()=>B(i,"selectval",l)),{c(){W(i.$$.fragment)},m(e,t){K(i,e,t),n=!0},p(n,l){e=l;const s={};(n.config||n.wf||n.Object||n.libfiles)&&(s.intext=Ft(e.config.multifileparams[e.filep.id][e.mfpkey],e.libfiles[e.filep.ftype])),(n.libfiles||n.wf)&&(s.fixedoptions=e.libfiles[e.filep.ftype]),(n.libfnorder||n.wf)&&(s.fixedorder=e.libfnorder[e.filep.ftype]),!t&&(n.config||n.wf||n.Object)&&(s.selectval=e.config.multifileparams[e.filep.id][e.mfpkey]),i.$set(s)},i(e){n||(U(i.$$.fragment,e),n=!0)},o(e){I(i.$$.fragment,e),n=!1},d(e){Y(i,e)}}}function Ct(e){let t,n,l,s,i,a,f,m,g,b,v,w,O=e.mfpkey+"";function j(...t){return e.click_handler_3(e,...t)}const x=[qt,$t],k=[];function $(e,t){return t.filep.allow_resultfile?1:0}return g=$(0,e),b=k[g]=x[g](e),{c(){t=d("label"),n=u("File nr. "),l=u(O),s=p(),i=d("span"),(a=d("a")).innerHTML='<i class="fa fa-trash-alt"></i>',f=p(),m=d("div"),b.c(),_(a,"title","Remove this file"),_(i,"class","icon is-small"),_(t,"class","label is-small"),_(m,"class","field"),w=h(a,"click",j)},m(e,r){c(e,t,r),o(t,n),o(t,l),o(t,s),o(t,i),o(i,a),c(e,f,r),c(e,m,r),k[g].m(m,null),v=!0},p(t,n){e=n,(!v||t.Object||t.config||t.wf)&&O!==(O=e.mfpkey+"")&&y(l,O);let s=g;(g=$(0,e))===s?k[g].p(t,e):(F(),I(k[s],1,1,()=>{k[s]=null}),P(),(b=k[g])||(b=k[g]=x[g](e)).c(),U(b,1),b.m(m,null))},i(e){v||(U(b),v=!0)},o(e){I(b),v=!1},d(e){e&&r(t),e&&r(f),e&&r(m),k[g].d(),w()}}}function Et(e){let t,n,l,s,i,a,g,b,v,w=e.filep.name+"";function O(...t){return e.click_handler_2(e,...t)}let j=Object.keys(e.config.multifileparams[e.filep.id]),x=[];for(let t=0;t<j.length;t+=1)x[t]=Ct(ue(e,j,t));const k=e=>I(x[e],1,1,()=>{x[e]=null});return{c(){t=d("label"),n=u(w),l=p(),s=d("span"),(i=d("a")).innerHTML='<i class="fa fa-plus-square"></i>',a=p();for(let e=0;e<x.length;e+=1)x[e].c();g=m(),_(i,"title","Add another file"),_(s,"class","icon is-small"),_(t,"class","label"),v=h(i,"click",O)},m(e,r){c(e,t,r),o(t,n),o(t,l),o(t,s),o(s,i),c(e,a,r);for(let t=0;t<x.length;t+=1)x[t].m(e,r);c(e,g,r),b=!0},p(t,l){if(e=l,b&&!t.wf||w===(w=e.filep.name+"")||y(n,w),t.wf||t.getIntextFileName||t.config||t.Object||t.libfiles||t.libfnorder||t.resultfiles||t.resultfnorder||t.removeMultifile){let n;for(j=Object.keys(e.config.multifileparams[e.filep.id]),n=0;n<j.length;n+=1){const l=ue(e,j,n);x[n]?(x[n].p(t,l),U(x[n],1)):(x[n]=Ct(l),x[n].c(),U(x[n],1),x[n].m(g.parentNode,g))}for(F(),n=j.length;n<x.length;n+=1)k(n);P()}},i(e){if(!b){for(let e=0;e<j.length;e+=1)U(x[e]);b=!0}},o(e){x=x.filter(Boolean);for(let e=0;e<x.length;e+=1)I(x[e]);b=!1},d(e){e&&r(t),e&&r(a),f(x,e),e&&r(g),v()}}}function Lt(e){let t,n;function l(n){e.dynamicselect_selectval_binding_5.call(null,n,e),t=!0,z(()=>t=!1)}let s={intext:Ft(e.config.fileparams[e.filep.id],Object.assign(e.resultfiles,e.libfiles[e.filep.ftype])),niceName:sn,fixedoptions:Object.assign(e.resultfiles,e.libfiles[e.filep.ftype]),fixedorder:e.resultfnorder.concat(e.libfnorder[e.filep.ftype])};void 0!==e.config.fileparams[e.filep.id]&&(s.selectval=e.config.fileparams[e.filep.id]);const i=new ce({props:s});return C.push(()=>B(i,"selectval",l)),{c(){W(i.$$.fragment)},m(e,t){K(i,e,t),n=!0},p(n,l){e=l;const s={};(n.config||n.wf||n.Object||n.resultfiles||n.libfiles)&&(s.intext=Ft(e.config.fileparams[e.filep.id],Object.assign(e.resultfiles,e.libfiles[e.filep.ftype]))),(n.Object||n.resultfiles||n.libfiles||n.wf)&&(s.fixedoptions=Object.assign(e.resultfiles,e.libfiles[e.filep.ftype])),(n.resultfnorder||n.libfnorder||n.wf)&&(s.fixedorder=e.resultfnorder.concat(e.libfnorder[e.filep.ftype])),t||!n.config&&!n.wf||(s.selectval=e.config.fileparams[e.filep.id]),i.$set(s)},i(e){n||(U(i.$$.fragment,e),n=!0)},o(e){I(i.$$.fragment,e),n=!1},d(e){Y(i,e)}}}function Nt(e){let t,n;function l(n){e.dynamicselect_selectval_binding_4.call(null,n,e),t=!0,z(()=>t=!1)}let s={intext:Ft(e.config.fileparams[e.filep.id],e.libfiles[e.filep.ftype]),niceName:ln,fixedoptions:e.libfiles[e.filep.ftype],fixedorder:e.libfnorder[e.filep.ftype]};void 0!==e.config.fileparams[e.filep.id]&&(s.selectval=e.config.fileparams[e.filep.id]);const i=new ce({props:s});return C.push(()=>B(i,"selectval",l)),{c(){W(i.$$.fragment)},m(e,t){K(i,e,t),n=!0},p(n,l){e=l;const s={};(n.config||n.wf||n.libfiles)&&(s.intext=Ft(e.config.fileparams[e.filep.id],e.libfiles[e.filep.ftype])),(n.libfiles||n.wf)&&(s.fixedoptions=e.libfiles[e.filep.ftype]),(n.libfnorder||n.wf)&&(s.fixedorder=e.libfnorder[e.filep.ftype]),t||!n.config&&!n.wf||(s.selectval=e.config.fileparams[e.filep.id]),i.$set(s)},i(e){n||(U(i.$$.fragment,e),n=!0)},o(e){I(i.$$.fragment,e),n=!1},d(e){Y(i,e)}}}function St(e){let t,n,l,s,i,a,f,m,h=e.filep.name+"";const g=[Nt,Lt],b=[];function v(e,t){return t.filep.allow_resultfile?1:0}return i=v(0,e),a=b[i]=g[i](e),{c(){t=d("div"),n=d("label"),l=u(h),s=p(),a.c(),f=p(),_(n,"class","label"),_(t,"class","field")},m(e,a){c(e,t,a),o(t,n),o(n,l),o(t,s),b[i].m(t,null),o(t,f),m=!0},p(e,n){m&&!e.wf||h===(h=n.filep.name+"")||y(l,h);let s=i;(i=v(0,n))===s?b[i].p(e,n):(F(),I(b[s],1,1,()=>{b[s]=null}),P(),(a=b[i])||(a=b[i]=g[i](n)).c(),U(a,1),a.m(t,f))},i(e){m||(U(a),m=!0)},o(e){I(a),m=!1},d(e){e&&r(t),b[i].d()}}}function At(e){let t,n,l,s=e.wf.fixedfileparams,i=[];for(let t=0;t<s.length;t+=1)i[t]=zt(fe(e,s,t));return{c(){t=d("div"),(n=d("div")).textContent="Predefined files",l=p();for(let e=0;e<i.length;e+=1)i[e].c();_(n,"class","title is-5"),_(t,"class","box")},m(e,s){c(e,t,s),o(t,n),o(t,l);for(let e=0;e<i.length;e+=1)i[e].m(t,null)},p(e,n){if(e.wf){let l;for(s=n.wf.fixedfileparams,l=0;l<s.length;l+=1){const a=fe(n,s,l);i[l]?i[l].p(e,a):(i[l]=zt(a),i[l].c(),i[l].m(t,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=s.length}},d(e){e&&r(t),f(i,e)}}}function zt(e){let t,n,l,s,i,a,f,m,h,g,b,v,w,O=e.ffilep.name+"",j=e.ffilep.fn+"",x=e.ffilep.desc+"";return{c(){t=d("div"),n=d("label"),l=u(O),s=p(),i=d("div"),a=d("select"),(f=d("option")).textContent="Fixed selection",m=d("option"),h=u(j),g=u(" -- "),b=u(x),w=p(),_(n,"class","label"),f.disabled=!0,f.__value="",f.value=f.__value,m.__value=v=e.ffilep.fn+" -- "+e.ffilep.desc,m.value=m.__value,_(i,"class","select"),_(t,"class","field")},m(e,r){c(e,t,r),o(t,n),o(n,l),o(t,s),o(t,i),o(i,a),o(a,f),o(a,m),o(m,h),o(m,g),o(m,b),o(t,w)},p(e,t){e.wf&&O!==(O=t.ffilep.name+"")&&y(l,O),e.wf&&j!==(j=t.ffilep.fn+"")&&y(h,j),e.wf&&x!==(x=t.ffilep.desc+"")&&y(b,x),e.wf&&v!==(v=t.ffilep.fn+" -- "+t.ffilep.desc)&&(m.__value=v),m.value=m.__value},d(e){e&&r(t)}}}function Dt(t){let n,l,s;return{c(){(n=d("a")).textContent="Store analysis",l=p(),(s=d("a")).textContent="Store and queue analysis",_(n,"class","button is-primary"),_(n,"disabled",""),_(s,"class","button is-primary"),_(s,"disabled","")},m(e,t){c(e,n,t),c(e,l,t),c(e,s,t)},p:e,d(e){e&&r(n),e&&r(l),e&&r(s)}}}function Mt(t){let n,l,s;return{c(){(n=d("a")).textContent="Store analysis",l=p(),(s=d("a")).textContent="Store and queue analysis",_(n,"class","button is-primary is-loading"),_(s,"class","button is-primary is-loading")},m(e,t){c(e,n,t),c(e,l,t),c(e,s,t)},p:e,d(e){e&&r(n),e&&r(l),e&&r(s)}}}function Tt(t){let n,s,i,a;return{c(){(n=d("a")).textContent="Store analysis",s=p(),(i=d("a")).textContent="Store and queue analysis",_(n,"class","button is-primary"),_(i,"class","button is-primary"),a=[h(n,"click",t.storeAnalysis),h(i,"click",t.runAnalysis)]},m(e,t){c(e,n,t),c(e,s,t),c(e,i,t)},p:e,d(e){e&&r(n),e&&r(s),e&&r(i),l(a)}}}function Rt(e){let t,n,s,i,a,u,m,g,b,y,v,O,j,x,k,$,q,C,E,L,N,S,z,D,M,T,R,H,B,W,K,Y,G=Object.values(e.notif.errors).some(Wt),V=Object.values(e.notif.links).some(Bt),J=Object.values(e.notif.messages).some(Ht),Q=G&&Le(e),X=V&&Se(e),Z=J&&ze(e),ee=e.wforder,te=[];for(let t=0;t<ee.length;t+=1)te[t]=Me($e(e,ee,t));let ne=e.config.wfid&&Te(e),le=e.wf&&Pe(e),se=Object.values(e.dsets),ie=[];for(let t=0;t<se.length;t+=1)ie[t]=st(je(e,se,t));let ae=e.wf&&it(e);return{c(){t=d("div"),Q&&Q.c(),n=p(),X&&X.c(),s=p(),Z&&Z.c(),i=p(),a=d("div"),(u=d("div")).textContent="Analysis",m=p(),g=d("div"),(b=d("div")).innerHTML='<label class="label">Workflow:</label>',y=p(),v=d("div"),O=d("div"),j=d("div"),x=d("select"),(k=d("option")).textContent="Select workflow";for(let e=0;e<te.length;e+=1)te[e].c();q=p(),(C=d("div")).innerHTML='<label class="label">Workflow version:</label>',E=p(),L=d("div"),N=d("div"),S=d("div"),z=d("select"),(D=d("option")).textContent="Select workflow version",ne&&ne.c(),T=p(),le&&le.c(),R=p(),(H=d("div")).textContent="Datasets",B=p();for(let e=0;e<ie.length;e+=1)ie[e].c();W=p(),ae&&ae.c(),_(t,"class","errormsg svelte-5nys59"),_(u,"class","title is-5"),_(b,"class","field-label is-normal"),k.disabled=!0,k.__value=$=!1,k.value=k.__value,void 0===e.config.wfid&&A(()=>e.select0_change_handler.call(x)),_(j,"class","select"),_(O,"class","field"),_(v,"class","field-body"),_(C,"class","field-label is-normal"),D.disabled=!0,D.__value=M=!1,D.value=D.__value,void 0===e.config.wfversion&&A(()=>e.select1_change_handler.call(z)),_(S,"class","select"),_(N,"class","field"),_(L,"class","field-body"),_(g,"class","field is-horizontal"),_(H,"class","title is-5"),_(a,"class","content"),Y=[h(x,"change",e.select0_change_handler),h(x,"change",e.change_handler),h(z,"change",e.select1_change_handler),h(S,"change",e.fetchWorkflow)]},m(l,r){c(l,t,r),Q&&Q.m(t,null),o(t,n),X&&X.m(t,null),o(t,s),Z&&Z.m(t,null),c(l,i,r),c(l,a,r),o(a,u),o(a,m),o(a,g),o(g,b),o(g,y),o(g,v),o(v,O),o(O,j),o(j,x),o(x,k);for(let e=0;e<te.length;e+=1)te[e].m(x,null);w(x,e.config.wfid),o(g,q),o(g,C),o(g,E),o(g,L),o(L,N),o(N,S),o(S,z),o(z,D),ne&&ne.m(z,null),w(z,e.config.wfversion),o(a,T),le&&le.m(a,null),o(a,R),o(a,H),o(a,B);for(let e=0;e<ie.length;e+=1)ie[e].m(a,null);o(a,W),ae&&ae.m(a,null),K=!0},p(e,l){if((e.Object||e.notif)&&(G=Object.values(l.notif.errors).some(Wt)),G?Q?Q.p(e,l):((Q=Le(l)).c(),Q.m(t,n)):Q&&(Q.d(1),Q=null),(e.Object||e.notif)&&(V=Object.values(l.notif.links).some(Bt)),V?X?X.p(e,l):((X=Se(l)).c(),X.m(t,s)):X&&(X.d(1),X=null),(e.Object||e.notif)&&(J=Object.values(l.notif.messages).some(Ht)),J?Z?Z.p(e,l):((Z=ze(l)).c(),Z.m(t,null)):Z&&(Z.d(1),Z=null),e.wforder||e.allwfs){let t;for(ee=l.wforder,t=0;t<ee.length;t+=1){const n=$e(l,ee,t);te[t]?te[t].p(e,n):(te[t]=Me(n),te[t].c(),te[t].m(x,null))}for(;t<te.length;t+=1)te[t].d(1);te.length=ee.length}if(e.config&&w(x,l.config.wfid),l.config.wfid?ne?ne.p(e,l):((ne=Te(l)).c(),ne.m(z,null)):ne&&(ne.d(1),ne=null),e.config&&w(z,l.config.wfversion),l.wf?le?(le.p(e,l),U(le,1)):((le=Pe(l)).c(),U(le,1),le.m(a,R)):le&&(F(),I(le,1,1,()=>{le=null}),P()),e.Object||e.dsets||e.wf||e.config||e.matchedFr||e.matchFractions||e.fetchDatasetDetails||e.updateIsoquant){let t;for(se=Object.values(l.dsets),t=0;t<se.length;t+=1){const n=je(l,se,t);ie[t]?ie[t].p(e,n):(ie[t]=st(n),ie[t].c(),ie[t].m(a,W))}for(;t<ie.length;t+=1)ie[t].d(1);ie.length=se.length}l.wf?ae?(ae.p(e,l),U(ae,1)):((ae=it(l)).c(),U(ae,1),ae.m(a,null)):ae&&(F(),I(ae,1,1,()=>{ae=null}),P())},i(e){K||(U(le),U(ae),K=!0)},o(e){I(le),I(ae),K=!1},d(e){e&&r(t),Q&&Q.d(),X&&X.d(),Z&&Z.d(),e&&r(i),e&&r(a),f(te,e),ne&&ne.d(),le&&le.d(),f(ie,e),ae&&ae.d(),l(Y)}}}function Ft(e,t){return t&&e in t?t[e].name:""}function Pt(e){return Object.entries(e).sort((e,t)=>e[0].replace("N","A")>t[0].replace("N","A")).map(e=>({ch:e[0],sample:e[1][0],chid:e[1][1]}))}const Ut=e=>e,It=e=>e,Ht=e=>1===e,Bt=e=>1===e,Wt=e=>1===e,Kt=e=>1==e[1],Yt=e=>e[0],Gt=e=>1==e[1],Vt=e=>e[0],Jt=e=>1==e[1],Qt=e=>e[0],Xt=e=>e.name,Zt=e=>`${e[0].toUpperCase()}${e.slice(1).toLowerCase()}`,en=e=>e.name,tn=e=>e.name,nn=e=>e.name,ln=e=>e.name,sn=e=>e.name;function an(e,t,n){let l={errors:{},messages:{},links:{}},s=!0,i=!1,a=!!existing_analysis&&existing_analysis.analysis_id,o={},c=!1,r=[],f={},d={},u=[],p=[],m=[],h=[],g={},_=[],y={isComplement:!1,selected:!1,typedname:"",fetched:{},resultfiles:[]},v={selected:!1,typedname:"",fetched:{}},w=[],j={};existing_analysis&&existing_analysis.added_results&&(n("added_results",j=existing_analysis.added_results),n("added_analyses_order",w=Object.keys(existing_analysis.added_results)));let x={wfid:!1,wfversion:!1,analysisname:"",flags:[],multicheck:[],isoquants:{},fileparams:{},inputparams:{},multifileparams:{},mzmldef:!1,v1:!1,v2:!1,version_dep:{v1:{instype:!1,dtype:!1}}},$={};async function q(){if(!function(){n("notif",l={errors:{},messages:{},links:{}});const e=RegExp("^[a-z0-9_-]+$","i");return x.analysisname?e.test(x.analysisname)||n("notif",l.errors["Analysisname may only contain a-z 0-9 _ -"]=1,l):n("notif",l.errors["Analysisname must be filled in"]=1,l),x.wfid||n("notif",l.errors["You must select a workflow"]=1,l),x.wfversion||n("notif",l.errors["You must select a workflow version"]=1,l),"mzmldef"in c.components&&!x.mzmldef&&n("notif",l.errors["You must select a mzml definition file"]=1,l),Object.values(f).forEach(t=>{"labelcheck"===x.version_dep.v1.dtype.toLowerCase()||t.filesaresets||t.setname?t.filesaresets?t.files.filter(e=>!e.setname).length&&n("notif",l.errors[`File ${fn.name} needs to have a setname`]=1,l):t.setname&&!e.test(t.setname)&&n("notif",l.errors[`Dataset ${t.proj} - ${t.exp} - ${t.run} needs to have another set name: only a-z 0-9 _ are allowed`]=1,l):n("notif",l.errors[`Dataset ${t.proj} - ${t.exp} - ${t.run} needs to have a set name`]=1,l)}),Object.entries(x.isoquants).forEach(([t,s])=>{Object.entries(s.samplegroups).forEach(([s,i])=>{i&&!e.test(i)&&n("notif",l.errors[`Incorrect sample group name for set ${t}, channel ${s}, only A-Z a-z 0-9 _ are allowed`]=1,l)})}),0===Object.keys(l.errors).length}())return!1;n("runButtonActive",s=!1),n("postingAnalysis",i=!0),n("notif",l.messages["Validated data"]=1,l);let e=Object.fromEntries(Object.entries(x.fileparams).filter(([e,t])=>t));c.fixedfileparams.forEach(t=>{e[t.id]=t.sfid});let t=Object.fromEntries(Object.entries(x.multifileparams).map(([e,t])=>[e,Object.values(t).filter(e=>e)]).filter(([e,t])=>t.length));n("notif",l.messages[`Using ${Object.keys(f).length} dataset(s)`]=1,l),l.messages[`${Object.keys(e).length} other inputfiles found`];let r={analysis_id:a,base_analysis:y,dsids:Object.keys(f),dssetnames:Object.fromEntries(Object.entries(f).filter(([e,t])=>!t.filesaresets).map(([e,t])=>[e,t.setname])),fractions:Object.fromEntries(Object.values(f).flatMap(e=>e.files.map(e=>[e.id,e.fr]))),fnsetnames:Object.fromEntries(Object.entries(f).filter(([e,t])=>t.filesaresets).map(([e,t])=>t.files.map(e=>[e.id,e.setname])).flat()),frregex:Object.fromEntries(Object.entries(f).map(([e,t])=>[e,t.frregex])),singlefiles:e,multifiles:t,components:{mzmldef:x.mzmldef,sampletable:!1},wfid:x.wfid,nfwfvid:x.wfversion.id,analysisname:`${o[x.wfid].wftype}_${x.analysisname}`,isoquant:{},params:{flags:Object.fromEntries(x.flags.map(e=>[e,!0])),inputparams:x.inputparams,multicheck:x.multicheck.reduce((e,t)=>{const n=t.split("___");return e[n[0]].push(n[1]),e},Object.fromEntries(x.multicheck.map(e=>{return[e.split("___")[0],[]]})))}};if(x.v1&&(r.params.inst=["--instrument",x.version_dep.v1.instype]),"isobaric_quant"in c.components&&(r.isoquant=x.isoquants),"isobaric_quant"in c.components||"sampletable"in c.components){const e=Object.entries(x.isoquants).flatMap(([e,t])=>Object.entries(t.channels).map(([n,l])=>[n,e,l[0],t.samplegroups[n]]).sort((e,t)=>e[0].replace("N","A")>t[0].replace("N","A")));r.components.sampletable=e.map(e=>e.slice(0,3).concat(e[3]?e[3]:"X__POOL"))}if(!Object.entries(l.errors).filter(([e,t])=>t).length){n("notif",l.messages[`Storing analysis for ${x.analysisname}`]=1,l);const e=await ee("/analysis/store/",r);if(e.error){if(n("notif",l.errors[e.error]=1,l),"link"in e&&n("notif",l.links[e.link]=1,l),"files_nods"in e){const t=new Set(e.files_nods);Object.values(f).filter(e=>t.intersect(Object.values(e.files).map(e=>e.id))).forEach(e=>{e.changed=!0}),Object.entries(f).filter(([t,n])=>e.ds_newfiles.indexOf(t)>-1).forEach(([e,t])=>{t.changed=!0})}}else a=e.analysis_id}n("postingAnalysis",i=!1),n("runButtonActive",s=!0)}async function C(){let e=new URL("/analysis/workflow",document.location);const t={dsids:dsids.join(","),wfvid:x.wfversion.id};e.search=new URLSearchParams(t).toString();const s=await Z(e);if("error"in s){const e=`While fetching workflow versions, encountered: ${s.error}`;n("notif",l.errors[e]=1,l),setTimeout(function(e){n("notif",l.errors[e]=0,l)},Q,e)}else n("libfiles",d=Object.fromEntries(Object.entries(s.wf.libfiles).map(([e,t])=>[e,Object.fromEntries(t.map(e=>[e.id,e]))]))),n("libfnorder",u=Object.fromEntries(Object.entries(s.wf.libfiles).map(([e,t])=>[e,t.map(e=>e.id)]))),n("prev_resultfiles",m=s.wf.prev_resultfiles),n("wf",c=s.wf),n("config",x.v1=1===c.analysisapi,x),n("config",x.v2=2===c.analysisapi,x);c.multifileparams.length&&n("config",x.multifileparams=Object.assign(x.multifileparams,Object.fromEntries(c.multifileparams.filter(e=>!(e.id in x.multifileparams)).map(e=>[e.id,{0:""}]))),x)}async function E(e){let t=new URL("/analysis/dsets/",document.location);const s={dsids:e?e.join(","):dsids.join(","),anid:existing_analysis?existing_analysis.analysis_id:0};t.search=new URLSearchParams(s).toString();const i=await Z(t);if(i.error){const e=i.errmsg;n("notif",l.errors[e]=1,l),setTimeout(function(e){n("notif",l.errors[e]=0,l)},Q,e)}else{Object.keys(i.dsets).forEach(e=>{n("dsets",f[e]=i.dsets[e],f),n("dsets",f[e].changed=!1,f)}),Object.keys(f).forEach(e=>{n("dsets",f[e].changed=!1,f)}),Object.entries(f).filter(e=>e[1].prefrac).forEach(e=>D(f[e[0]]));const e=new Set(Object.values(f).map(e=>e.dtype.toLowerCase()));n("config",x.version_dep.v1.dtype=e.size>1?"mixed":e.keys().next().value,x);const t=new Set(Object.values(f).map(e=>e.details.qtypeshort));x.v1&&t.size>1?n("notif",l.errors["Mixed quant types detected, cannot use those in single run, use more advanced pipeline version"]=1,l):n("config",x.version_dep.v1.qtype=t.keys().next().value,x);const s=new Set(Object.values(f).flatMap(e=>e.details.instrument_types).map(e=>e.toLowerCase()));x.v1&&s.size>1?n("notif",l.errors["Mixed instrument types detected, cannot use those in single run, use more advanced pipeline version"]=1,l):n("config",x.version_dep.v1.instype=s.keys().next().value,x)}}async function L(){if(w.indexOf(v.selected)>-1)return;let e=`/analysis/resultfiles/load/${v.selected}/`;const t=await Z(e);if("error"in t){const e=`While fetching analysis, encountered: ${t.error}`;n("notif",l.errors[e]=1,l),setTimeout(function(e){n("notif",l.errors[e]=0,l)},Q,e)}else w.push(v.selected),n("added_results",j[v.selected]=t,j)}function N(e){-1!==w.indexOf(e)&&(n("added_analyses_order",w=w.filter(t=>t!==e)),delete j[e],n("added_results",j))}async function S(){let e=`/analysis/baseanalysis/load/${y.selected}/`;const t=await Z(e);if("error"in t){const e=`While fetching base analysis, encountered: ${t.error}`;n("notif",l.errors[e]=1,l),setTimeout(function(e){n("notif",l.errors[e]=0,l)},Q,e)}else{n("base_analysis",y.resultfiles=t.resultfiles,y);let e=new Set;for(const l in t.datasets)l in f&&(n("dsets",f[l].setname=t.datasets[l].setname,f),e.add(f[l].setname),n("dsets",f[l].regex=t.datasets[l].regex,f));for(const l in t.base_analysis.isoquants)e.has(l)&&n("config",x.isoquants[l]=t.base_analysis.isoquants[l],x);for(const e of["mzmldef","flags","inputparams","multicheck","fileparams"])n("config",x[e]=t.base_analysis[e],x);Object.assign(x.multifileparams,t.base_analysis.multifileparams)}}function A(e,t){delete x.multifileparams[e][t];let l={};Object.keys(x.multifileparams[e]).forEach((t,n)=>{l[n]=x.multifileparams[e][t]}),n("config",x.multifileparams[e]=l,x)}function z(e){const t=Object.keys(x.multifileparams[e]).map(e=>+e),l=t.length?Math.max(...t)+1:0;n("config",x.multifileparams[e][l]="",x)}function D(e){let t=new Set;for(let n of e.files){const l=n.name.match(RegExp(e.frregex));l?(n.fr=l[1],t.add(l[1])):n.fr="NA"}n("matchedFr",$[e.id]=t.size,$)}!function(e){k().$$.on_mount.push(e)}(async()=>{await async function(){let e=new URL("/analysis/workflows",document.location);const t=await Z(e);if("error"in t){const e=`While fetching workflows, encountered: ${t.error}`;n("notif",l.errors[e]=1,l),setTimeout(function(e){n("notif",l.errors[e]=0,l)},Q,e)}else n("allwfs",o=t.allwfs),n("wforder",r=t.order)}(),existing_analysis&&await async function(){n("config",x.wfid=existing_analysis.wfid,x),n("config",x.wfversion_id=existing_analysis.wfversion_id,x),n("config",x.wfversion=o[existing_analysis.wfid].versions.filter(e=>e.id===existing_analysis.wfversion_id)[0],x);for(const e of["analysisname","mzmldef","flags","inputparams","multicheck","fileparams","isoquants"])n("config",x[e]=existing_analysis[e],x);await C(),Object.assign(x.multifileparams,existing_analysis.multifileparams),n("base_analysis",y=existing_analysis.base_analysis||y)}(),await E(!1)});const M=[[],[]];return e.$$.update=((e={added_analyses_order:1,added_results:1,fetched_resultfiles:1,base_analysis:1,prev_resultfiles:1,Object:1,resfn_arr:1})=>{(e.added_analyses_order||e.added_results||e.fetched_resultfiles||e.base_analysis||e.prev_resultfiles||e.Object||e.resfn_arr)&&(n("fetched_resultfiles",p=w.flatMap(e=>j[e].fns)),n("resfn_arr",h=p.concat(y.resultfiles).concat(m)),n("resultfiles",g=Object.fromEntries(h.map(e=>[e.id,e]))),n("resultfnorder",_=h.map(e=>e.id)))}),{notif:l,runButtonActive:s,postingAnalysis:i,allwfs:o,wf:c,wforder:r,dsets:f,libfiles:d,libfnorder:u,resultfiles:g,resultfnorder:_,base_analysis:y,adding_analysis:v,added_analyses_order:w,added_results:j,config:x,matchedFr:$,storeAnalysis:q,runAnalysis:async function(){if(await q(),!Object.entries(l.errors).filter(([e,t])=>t).length){n("notif",l.messages[`Queueing analysis job for ${x.analysisname}`]=1,l);const e={analysis_id:a},t=await ee("/analysis/start/",e);t.error?n("notif",l.errors[t.error]=1,l):window.location.href="/?tab=searches"}},fetchWorkflow:C,fetchDatasetDetails:E,loadAnalysisResults:L,removeAnalysisResults:N,loadBaseAnalysis:S,removeMultifile:A,addMultifile:z,matchFractions:D,updateIsoquant:function(){if("isobaric_quant"in c.components||"sampletable"in c.components){Object.values(f).forEach(e=>{const t=`Sample set mixing error! Channels for datasets with setname ${e.setname} are not identical!`;n("notif",l.errors[t]=0,l),!e.setname||e.setname in x.isoquants?e.setname&&e.setname in x.isoquants&&x.isoquants[e.setname].channels!==e.details.channels&&n("notif",l.errors[t]=1,l):n("config",x.isoquants[e.setname]={chemistry:e.details.qtypeshort,channels:e.details.channels,samplegroups:Object.fromEntries(Object.keys(e.details.channels).map(e=>[e,""])),denoms:Object.fromEntries(Object.keys(e.details.channels).map(e=>[e,!1])),report_intensity:!1,sweep:!1},x)});const e=new Set(Object.values(f).map(e=>e.setname).filter(e=>e));Object.keys(x.isoquants).filter(t=>!e.has(t)).forEach(e=>{delete x.isoquants[e]}),n("config",x.isoquants=Object.assign({},x.isoquants),x)}},select0_change_handler:function(){x.wfid=O(this),n("config",x),n("wforder",r)},change_handler:e=>n("wf",c=n("config",x.wfversion=!1,x)),select1_change_handler:function(){x.wfversion=O(this),n("config",x),n("wforder",r)},input_input_handler:function(){x.analysisname=this.value,n("config",x),n("wforder",r)},input_change_handler:function(){y.isComplement=this.checked,n("base_analysis",y)},dynamicselect_intext_binding:function(e){y.typedname=e,n("base_analysis",y)},dynamicselect_selectval_binding:function(e){y.selected=e,n("base_analysis",y)},dynamicselect_fetchedData_binding:function(e){y.fetched=e,n("base_analysis",y)},selectedvalue_handler:e=>S(),select_change_handler:function(){x.mzmldef=O(this),n("config",x),n("wforder",r)},input_change_handler_1:function({ds:e}){e.filesaresets=this.checked,n("Object",Object),n("dsets",f)},input_input_handler_1:function({ds:e}){e.setname=this.value,n("Object",Object),n("dsets",f)},click_handler:({ds:e},t)=>E([e.id]),input_input_handler_2:function({ds:e}){e.frregex=this.value,n("Object",Object),n("dsets",f)},change_handler_1:({ds:e},t)=>D(e),input_input_handler_3:function({fn:e}){e.setname=this.value,n("Object",Object),n("dsets",f)},input_change_handler_2:function({isoq:e}){e[1].sweep=this.checked,n("Object",Object),n("config",x),n("wforder",r)},input_change_handler_3:function({isoq:e}){e[1].report_intensity=this.checked,n("Object",Object),n("config",x),n("wforder",r)},input_change_handler_4:function({isoq:e,ch:t}){e[1].denoms[t]=this.checked,n("Object",Object),n("config",x),n("sortChannels",Pt),n("wforder",r)},input_input_handler_4:function({isoq:e,ch:t}){e[1].samplegroups[t]=this.value,n("Object",Object),n("config",x),n("sortChannels",Pt),n("wforder",r)},input_change_handler_5:function(){x.multicheck=b(M[1]),n("config",x),n("wforder",r)},input_input_handler_5:function({id:e}){var t;x.inputparams[e]=""===(t=this.value)?void 0:+t,n("config",x),n("wf",c),n("wforder",r)},input_change_handler_6:function(){x.flags=b(M[0]),n("config",x),n("wforder",r)},dynamicselect_intext_binding_1:function(e){v.typedname=e,n("adding_analysis",v)},dynamicselect_selectval_binding_1:function(e){v.selected=e,n("adding_analysis",v)},dynamicselect_fetchedData_binding_1:function(e){v.fetched=e,n("adding_analysis",v)},selectedvalue_handler_1:e=>L(),click_handler_1:({anaid:e},t)=>N(e),click_handler_2:({filep:e},t)=>z(e.id),click_handler_3:({filep:e,mfpkey:t},n)=>A(e.id,t),dynamicselect_selectval_binding_2:function(e,{filep:t,mfpkey:l}){x.multifileparams[t.id][l]=e,n("config",x)},dynamicselect_selectval_binding_3:function(e,{filep:t,mfpkey:l}){x.multifileparams[t.id][l]=e,n("config",x)},dynamicselect_selectval_binding_4:function(e,{filep:t}){x.fileparams[t.id]=e,n("config",x)},dynamicselect_selectval_binding_5:function(e,{filep:t}){x.fileparams[t.id]=e,n("config",x)},$$binding_groups:M}}return new class extends J{constructor(e){super(),V(this,e,an,Rt,i,{})}}({target:document.querySelector("#apps")})}();
//# sourceMappingURL=bundle.js.map
